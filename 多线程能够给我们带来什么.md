####多线程能够给我们带来什么
- **更好的资源利用**
	- **磁盘IO、网络IO等**
- **在一些情景下简化程序设计**
- **提高程序响应性**

####多线程的开销
>不要为了多线程而使用多线程

- **更复杂的设计**
	- **控制临界资源的访问**
	- **出现问题，难以调试、重现和修复**
	- **...**
- **上下文切换次数过高**
	- **当CPU发生上下文切换时，需要保存现场**
	- **CPU上下文切换的代价很昂贵**
	- **...**
- **增加资源消耗**
	- **需要内存保存本地栈**
	- **操作系统需要一些资源管理线程**
	- **...**

####在Java中使用线程
在Java中创建线程有两种方式：

    Thread myThread = new Thread();
或者

    public WorkerTask implements Runnale{...};
    Thread myThread = new Thread(new WorkerTask());

启动线程：

    myThread.start();

最佳实践：

    //为线程指定一个名字

####竞争条件
临界资源：

####线程安全和共享资源
当多个线程区更新共享资源的时候才会发生竞争条件。所以，我们需要知道存在哪些临界资源。

- **本地变量**
	- **本地变量被存储在每个线程所属的栈中**
	- **所以，不存在多个线程共享的问题，是线程安全的**
- **本地对象引用**
	- **本地对象引用与本地变量相比有一些不同。引用变量本身是不被共享的，但引用变量指向的对象并没有存放在线程所有的栈中，它们存放在JVM的堆中。**
- **对象成员**
	-**不是线程安全的**

>如果一个资源的创建、使用和销毁都在同一个线程的控制之内，而且从未逃脱这个线程的控制，这个资源就是线程安全的。

资源可以是任何类型的共享资源，比如对象，数组，文件，数据库连接，socket等。在Java中你不需要显式的销毁资源，因此”销毁“意味着丢弃或者为对象的引用赋值null。

尽管一个对象的使用是线程安全的，但如果这个对象指向了一个共享资源比如文件或者数据库，你的程序整体看来可能就不是线程安全的。

####线程安全和不可变性
如果多个线程同时去访问同一个资源，或者，一个或多个线程对这个资源发生写操作时才会发生竞争条件；一个或多个线程对同一个资源发生读操作并不会发生竞争条件。

我们可以通过每次在发生写操作后，重新构造一个新的实例的方式，来达到线程安全的目的。比如String类。

